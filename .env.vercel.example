# ======================================
# VERCEL DEPLOYMENT ENVIRONMENT VARIABLES
# ======================================
# Copy this to Vercel Project Settings â†’ Environment Variables
# Documentation: https://vercel.com/docs/concepts/projects/environment-variables

# ======================================
# FRONTEND VARIABLES (NEXT_PUBLIC_*)
# ======================================

# API Connection
NEXT_PUBLIC_API_URL=https://api.ausproperty.app

# Mapbox (for property map visualization)
NEXT_PUBLIC_MAPBOX_TOKEN=your_mapbox_public_token

# Sentry Error Tracking (Frontend)
NEXT_PUBLIC_SENTRY_DSN=your_sentry_frontend_dsn

# Google Analytics
NEXT_PUBLIC_GTAG_ID=G_YOUR_GOOGLE_ANALYTICS_ID

# Application Info
NEXT_PUBLIC_APP_NAME=AUS Property Intelligence
NEXT_PUBLIC_APP_VERSION=1.0.0

# ======================================
# DATABASE CONNECTION (Production)
# ======================================

# Vercel Postgres or External PostgreSQL
DATABASE_URL=postgresql://user:password@host.vercel-storage.com:5432/verceldb

# Read Replica (optional)
DATABASE_REPLICA_URL=postgresql://user:password@replica.vercel-storage.com:5432/verceldb

# Connection Pool
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=20
DATABASE_CONNECTION_TIMEOUT_MS=5000

# ======================================
# REDIS CACHE (Production)
# ======================================

# Vercel KV (Recommended) or Upstash
REDIS_URL=redis://default:password@host.vercel-kv.com:6379

# Separate queue database
REDIS_QUEUE_URL=redis://default:password@host.vercel-kv.com:6379/1

# ======================================
# JWT & AUTHENTICATION (Production)
# ======================================

# IMPORTANT: Generate secure random strings (minimum 32 characters)
# Use: openssl rand -base64 32
JWT_SECRET=your_production_jwt_secret_min_32_chars_very_secure
JWT_EXPIRY=900

# Refresh Token Secret (different from JWT_SECRET)
JWT_REFRESH_SECRET=your_production_refresh_secret_different_very_secure
JWT_REFRESH_EXPIRY=604800

# Magic Link (if using passwordless auth)
MAGIC_LINK_SECRET=your_magic_link_secret_very_secure
MAGIC_LINK_EXPIRY=3600

# ======================================
# RATE LIMITING
# ======================================

RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ======================================
# EMAIL SERVICE (SendGrid)
# ======================================

# SendGrid API Key
SENDGRID_API_KEY=SG.your_sendgrid_api_key_here

# Email Configuration
EMAIL_FROM=noreply@ausproperty.app
EMAIL_FROM_NAME=AUS Property Intelligence

# SMTP Fallback
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=SG.your_sendgrid_api_key_here
SMTP_FROM=noreply@ausproperty.app

# ======================================
# MAPBOX & GEOLOCATION
# ======================================

# Mapbox API Key (for server-side geocoding)
MAPBOX_API_KEY=your_mapbox_secret_api_key

# Google Maps (optional backup)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key

# Geolocation Provider
GEOCODE_PROVIDER=mapbox

# ======================================
# AWS S3 (File Storage)
# ======================================

# AWS Credentials
AWS_ACCESS_KEY_ID=AKIA_YOUR_AWS_KEY
AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# S3 Configuration
AWS_S3_BUCKET=aus-property-db-assets-prod
AWS_S3_REGION=ap-southeast-2

# Upload Settings
UPLOAD_MAX_FILE_SIZE_MB=10
UPLOAD_ALLOWED_TYPES=jpg,jpeg,png,pdf,docx

# ======================================
# ERROR TRACKING & MONITORING (Sentry)
# ======================================

# Sentry Backend DSN
SENTRY_DSN=https://your_sentry_key@sentry.io/your_project_id

# Sentry Configuration
SENTRY_ENVIRONMENT=production
SENTRY_SAMPLE_RATE=0.5

# Sentry Auth Token (for source maps)
SENTRY_AUTH_TOKEN=your_sentry_auth_token

# ======================================
# EXTERNAL INTEGRATIONS (Optional)
# ======================================

# Google Cloud (BigQuery, Analytics)
GCP_PROJECT_ID=your_gcp_project_id
GCP_SERVICE_ACCOUNT_KEY=your_gcp_service_account_json_base64_encoded
BIGQUERY_DATASET=property_analytics

# RealEstate.com.au Connector
REALESTATE_AU_API_KEY=your_realestate_api_key
REALESTATE_AU_ENABLE=true

# Domain.com.au Connector
DOMAIN_API_KEY=your_domain_api_key
DOMAIN_ENABLE=false

# ======================================
# LOGGING & OBSERVABILITY
# ======================================

# Log Level: debug, info, warn, error
LOG_LEVEL=info

# Debug Pattern (leave empty in production)
DEBUG=

# Tracing & Performance Monitoring
ENABLE_TRACING=true
ENABLE_PERFORMANCE_MONITORING=true

# ======================================
# QUEUE & JOBS (Bull/Redis)
# ======================================

BULL_CONCURRENCY_DEFAULT=5
BULL_CONCURRENCY_CRAWL=3
BULL_CONCURRENCY_GEO=10
BULL_JOB_TIMEOUT_MS=300000
BULL_JOB_RETENTION_DAYS=7

# ======================================
# DATA & COMPLIANCE
# ======================================

# Data Retention (days)
HISTORICAL_DATA_RETENTION_DAYS=730
AUDIT_LOG_RETENTION_DAYS=365

# Compliance Flags
GDPR_ENABLED=true
PRIVACY_ACT_ENABLED=true
SOFT_DELETE_ENABLED=true

# ======================================
# FEATURE FLAGS (Production)
# ======================================

ENABLE_MULTI_SOURCE_DEDUP=true
ENABLE_GEO_ENRICHMENT=true
ENABLE_PRICE_PREDICTION=true
ENABLE_ML_MODELS=true
ENABLE_ALERTS=true
ENABLE_WATCHLIST=true

# ======================================
# VERCEL SPECIFIC
# ======================================

# Node Environment (Vercel sets this automatically)
NODE_ENV=production

# App Environment
APP_ENV=production

# API Configuration
API_HOST=https://api.ausproperty.app
API_PORT=3000
WEB_URL=https://ausproperty.app

# ======================================
# CUSTOM DOMAIN (Optional)
# ======================================

# Your custom domain (if using)
# VERCEL_URL=ausproperty.app
# NEXT_PUBLIC_VERCEL_URL=ausproperty.app
